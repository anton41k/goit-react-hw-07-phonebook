{"version":3,"sources":["components/Contact/Contact.module.css","components/Filter/Filter.module.css","App.module.css","components/ContactList/ContactList.module.css","services/contactApi.js","components/Form/Form.jsx","redux/contacts/selectors.js.js","components/Contact/Contact.jsx","components/ContactList/ContactList.jsx","redux/contacts/actions.js","components/Filter/Filter.jsx","App.js","redux/contacts/reducer.js","redux/store.js","index.js","components/Form/Form.module.css"],"names":["module","exports","contactApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","url","method","body","name","number","invalidatesTags","deleteContact","contactId","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","Form","contacts","data","isLoading","nameInputId","uuidv4","numberInputId","handleSubmit","ev","a","preventDefault","currentTarget","elements","console","log","value","find","contact","toast","error","reset","success","className","css","form","onSubmit","form_label","htmlFor","thumb_input","form_icon","size","id","form_input","type","pattern","title","required","form_submit_disabled","form_submit_active","form_submit","disabled","loading","color","getFilterValue","state","phonebook","filter","Contact","isDeleting","contact_item","contact_name","contact_number","del_btn_disabled","del_btn_active","del_btn","onClick","ContactList","useSelector","filteredContacts","filterValue","normalizeFilter","toLowerCase","includes","sort","b","localeCompare","refetchOnReconnect","selectFromResult","csss","contact_list","map","createAction","Filter","dispatch","useDispatch","filter_label","filter_input","onChange","event","actions","target","App","container","title_phonebook","title_contacts","position","autoClose","createReducer","_","payload","combineReducers","middleware","getDefaultMiddleware","logger","store","configureStore","reducer","contactsReducer","devTools","process","setupListeners","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8c67ac2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"del_btn\":\"Contact_del_btn__CAybw\",\"del_btn_active\":\"Contact_del_btn_active__1yAZu\",\"del_btn_disabled\":\"Contact_del_btn_disabled__1ATr2\",\"contact_checkbox\":\"Contact_contact_checkbox__16h0L\",\"contact_item\":\"Contact_contact_item__3aJjb\",\"contact_number\":\"Contact_contact_number__1Xndh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter_label\":\"Filter_filter_label__2CIWW\",\"filter_input\":\"Filter_filter_input__1XGNE\",\"thumb_input\":\"Filter_thumb_input__KsOj5\",\"form_icon\":\"Filter_form_icon__16yn1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__31-yz\",\"title_phonebook\":\"App_title_phonebook__3rzMu\",\"title_contacts\":\"App_title_contacts__Z0kKR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact_list\":\"ContactList_contact_list__2wapF\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const contactApi = createApi({\r\n  reducerPath: 'contactApi',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: 'https://616aba8f16e7120017fa108a.mockapi.io/api/v1'\r\n    }),\r\n    tagTypes: ['Contact'],\r\n    endpoints: (builder) => ({\r\n        getContacts: builder.query({\r\n            query: () => `/contacts`,\r\n            providesTags: ['Contact'],\r\n        }),\r\n        addContact: builder.mutation({\r\n            query: ({ name, number }) => ({\r\n                url: '/contacts',\r\n                method: 'POST',\r\n                body: {\r\n                    name,\r\n                    number,\r\n                }\r\n            }),\r\n            invalidatesTags: ['Contact'],\r\n        }),\r\n        deleteContact: builder.mutation({\r\n            query: contactId => ({\r\n                url: `/contacts/${contactId}`,\r\n                method: 'DELETE',\r\n            }),\r\n            invalidatesTags: ['Contact'],\r\n        })\r\n    }),\r\n})\r\n\r\nexport const { useGetContactsQuery, useAddContactMutation, useDeleteContactMutation } = contactApi","import { useGetContactsQuery,  useAddContactMutation } from \"../../services/contactApi\";\nimport  toast  from 'react-hot-toast';\nimport { v4 as uuidv4 } from \"uuid\";\nimport { FaUser, FaPhoneAlt } from 'react-icons/fa';\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport css from \"./Form.module.css\";\n\nfunction Form() {\n  const { data: contacts } = useGetContactsQuery();\n  const [addContact, {isLoading}] = useAddContactMutation();\n\n  const nameInputId = uuidv4();\n  const numberInputId = uuidv4();\n\n  const handleSubmit = async ev => {\n    ev.preventDefault();\n    const { name, number } = ev.currentTarget.elements;\n    console.log(name.value);\n\n    const found = contacts.find((contact) => contact.name === name.value);\n    if (found) {\n      toast.error(`${name.value} is already in contacts`);\n      ev.currentTarget.reset();\n        return\n      }\n\n    try {\n      addContact({name: name.value, number: number.value});\n      toast.success(`Contact ${name.value} created!`);\n      ev.currentTarget.reset();\n    } catch (error) {\n      toast.error(error);\n    }\n    \n    \n}\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <label className={css.form_label} htmlFor={nameInputId}>\n        Name\n        <div className={css.thumb_input}>\n          <div className={css.form_icon}>\n            <FaUser size={16} />\n          </div>\n          <input\n            id={nameInputId}\n            className={css.form_input}\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n          />\n        </div>\n      </label>\n\n      <label className={css.form_label} htmlFor={numberInputId}>\n        Number\n        <div className={css.thumb_input}>\n          <div className={css.form_icon}>\n            <FaPhoneAlt size={16} />\n          </div>\n          <input\n            id={numberInputId}\n            className={css.form_input}\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n          />\n        </div>\n      </label>\n      <button\n        className={`${isLoading ? css.form_submit_disabled : css.form_submit_active} ${css.form_submit}`}\n        type=\"submit\"\n        disabled={isLoading}>\n          <ClipLoader loading={isLoading} size={12} color={'white'}/> {` Add contact`}\n      </button>\n    </form>\n  );\n}\n\nexport default Form;\n","export const getFilterValue = state => state.phonebook.filter;","import  toast  from 'react-hot-toast';\n\nimport { useDeleteContactMutation } from \"../../services/contactApi\";\nimport css from \"./Contact.module.css\";\n\nconst Contact = ({ id, name, number }) => {\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  if (isDeleting) {\n    toast.success(`Contact ${name} is delete!!!`);\n  }\n\n  return (\n    <li className={css.contact_item}>\n      <span className={css.contact_name}>{name}</span>\n      <span className={css.contact_number}>{number}</span>\n\n      <button\n        className={`${isDeleting ? css.del_btn_disabled : css.del_btn_active} ${css.del_btn}`}\n        onClick={() => deleteContact(id)}\n        disabled={isDeleting}>\n                {isDeleting ? 'Deleting....' : 'Delete'}\n      </button>\n    </li>\n  );\n};\n\nexport default Contact;\n","import { useSelector } from 'react-redux';\n\nimport { useGetContactsQuery } from \"../../services/contactApi\";\nimport { getFilterValue } from '../../redux/contacts/selectors.js';\nimport Contact from \"../Contact/Contact\";\nimport csss from \"./ContactList.module.css\";\n\nconst ContactList = () => {\n  const filter = useSelector(getFilterValue);\n\n  const filteredContacts = (filterValue, contacts) => {\n    const normalizeFilter = filterValue.toLowerCase();\n    return contacts\n      ?.filter(\n        ({ name, number }) =>\n          name.toLowerCase().includes(normalizeFilter) ||\n          number.includes(normalizeFilter),\n      )\n      .sort((a, b) => a.name.localeCompare(b.name));\n  };\n\n  const { contacts } = useGetContactsQuery(null, {\n    refetchOnReconnect: true,\n    selectFromResult: ({ data }) => ({\n      contacts: filteredContacts(filter, data),\n    }),\n  });\n\n  return (\n    <ul className={csss.contact_list}>\n      {contacts?.map((contact) => (\n        \n          <Contact key={contact.id} { ...contact }/>\n        \n      ))}\n    </ul>\n    )\n}\n\nexport default ContactList;","import { createAction } from '@reduxjs/toolkit';\n\nexport const getFilterValue = createAction('filter/get');","import { useSelector, useDispatch } from 'react-redux';\nimport { AiOutlineSearch } from 'react-icons/ai';\n\nimport { getFilterValue } from '../../redux/contacts/selectors.js';\nimport { actions } from '../../redux/contacts';\nimport css from \"./Filter.module.css\";\n\nconst Filter = () => {\n  const filter = useSelector(getFilterValue);\n  const dispatch = useDispatch();\n  return (\n    <label className={css.filter_label}>\n      Find contacts by name\n      <div className={css.thumb_input}>\n        <div className={css.form_icon}>\n          <AiOutlineSearch  size={16}/>\n        </div>\n        <input\n          className={css.filter_input}\n          type=\"text\"\n          value={filter}\n          onChange={event => dispatch(actions.getFilterValue(event.target.value))}\n        />\n      </div>\n    </label>\n  )\n};\n\nexport default Filter;\n","import { Toaster  } from \"react-hot-toast\";\n\nimport Form from \"./components/Form/Form\";\nimport ContactList from \"./components/ContactList/ContactList\";\nimport Filter from \"./components/Filter/Filter\";\nimport css from \"./App.module.css\";\n\n//import formSubmitHandle from './redux/actions';\n\nexport default function App() {\n  return (\n    <div className={css.container}>\n      <h2 className={css.title_phonebook}>Phonebook</h2>\n      <Form />\n      <h2 className={css.title_contacts}>Contacts</h2>\n      <Filter />\n      <ContactList />\n      <Toaster  position=\"top-right\" autoClose={3000} />\n    </div>\n  );\n}\n//<Filter /><Form />","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { actions } from './';\n\nconst filter = createReducer('', {\n  [actions.getFilterValue]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({ filter });","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/query';\nimport logger from 'redux-logger';\nimport contactsReducer from './contacts/reducer';\nimport { contactApi } from '../services/contactApi';\n\nconst middleware = [...getDefaultMiddleware(), logger, contactApi.middleware];\n\nconst store = configureStore({\n  reducer: {\n    phonebook: contactsReducer,\n    [contactApi.reducerPath]: contactApi.reducer,\n  },\n  devTools: process.env.NODE_ENV === 'development',\n  middleware,\n});\n\nsetupListeners(store.dispatch);\nexport { store };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport { store } from \"./redux/store\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__19oE2\",\"form_label\":\"Form_form_label__2Gz_7\",\"form_input\":\"Form_form_input__2KeEt\",\"thumb_input\":\"Form_thumb_input__3Clzt\",\"form_icon\":\"Form_form_icon__oSad5\",\"form_submit\":\"Form_form_submit__2fmaG\",\"form_submit_active\":\"Form_form_submit_active__3hmSS\",\"form_submit_disabled\":\"Form_form_submit_disabled__1RoD6\"};"],"sourceRoot":""}